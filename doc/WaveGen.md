
# WaveGen parameters

The following parameters can be used for wave generators. Only certain ones may apply, depending on the wave shape you have chosen. For example, **noise** does not care about **offset** or **detune**.
 
 - **detune** - cents relative to the base frequency. 100 cents equals a half step, so adding detune plus offset you can choose any frequency relative to the base. May be positive or negative.
 
 - **offset** - number of half steps to offset the frequency from the base. -12 is down an octave. 6 is a tritone. Dust off your music theory books! 

 - **shape** - For a wave, the wave form. Envelopes will have a different list, once I get around to implementing them. Following are the key words (which must be exact) for specifying the different wave forms:
    - **sine** - pure sine wave
    - **square** - with 50% duty cycle
    - **pwm** - a square wave with pulse width modulation. In other words, you can hook it up to an LFO to modulate the duty cycle.  
    - **saw** - with a linear rise and a linear fall, with a 50% duty cycle
    - **ramp-up** - a linear rise and instantaneous fall (like a saw with a 100% duty cycle)
    - **ramp-down** - a linear fall and instantaneous rise (a saw with a 0% duty cycle)
    - **harmonic** - allows you to combine sine waves at harmonic intervals. More efficient than the anharmonic WaveGen, because it creates a snapshot of a single cycle at the outset and then plays back from a wavetable. 
    - **anharmonic** - allows you to combine sine waves at whatever intervals you want. Because they are not harmonic, they will have to be computed on the fly.
    - **noise** - a signal generated by the random number function. Note that a WaveGen with this wave shape has no reason to listen to the note frequency. To alter the sound, you'll want a filter.
 
  - **freq** - mostly for LFO's. Overrides the MIDI key frequency, whether or not the WaveGen receives note-on messages. For an LFO, you also want to say `signed: false`  
    
  - **mod-percent** - The percentage of modulation for a PWM wave. See `pwm.yaml` in the resources directory for examples. PWM stands for "Pulse Width Modulation" and refers to changing the duty cycle of a square wave, which gives a kind of combing effect.
  
    
  - **preset** - for a harmonic wave, there are a few presets you can use as an alternative to the **waves** setting that follows. Use one or the other. You can't use both.
  
    Current harmonic wave presets are: 
    - mellow
    - odd
    - bell
    - organ
  
  - **waves** - For the harmonic or anharmonic waves, the composition of the waves is given as a series of integer pairs: 
      - frequency multiplier - we multiply the base frequency by this number to arrive at the frequency of the sine wave you want to add. 
      
      - divisor - we divide the amplitude by this number to get the amplitude of your "harmonic" (or anharmonic as the case may be)

      Note that for harmonic waves, you may specify non-integer values, but since the wave will be a snapshot of the single cycle (and hence harmonic) you will not hear an anharmonic tone, but rather a kind of buzzing. It can yield possibly useful results, so I left it that way.
       
      If you want a genuine anharmonic voice, use the "anharmonic" wave shape. Note that the anharmonic WaveGen is much less efficient than the harmonic one, as it creates all of the waves on the fly. The harmonic WaveGen takes a snapshot of a single wave and uses it as a wavetable. (which is, incidentally, also how a plain sine wave works). 
      
    Here are the settings that the "octave organ" uses (a harmonic WaveGen)   
```
          waves:
            - 1 1
            - 2 2
            - 4 4
            - 8 8
            - 16 16
```



 